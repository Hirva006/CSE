<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Travelo ‚Äî Hotels</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    .hotel-card {
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .hotel-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
  </style>
</head>

<body class="bg-gray-50 text-gray-800">

  <!-- HEADER -->
  <header class="bg-white shadow transition-colors duration-300">
    <div class="container mx-auto px-6 py-4 flex items-center justify-between">
      <a href="index.html" class="text-2xl font-bold text-indigo-600">Travelo</a>
      <nav class="hidden md:flex gap-6 items-center">
        <a href="index.html" class="hover:text-indigo-600">Home</a>
        <a href="flights.html" class="hover:text-indigo-600">Flights</a>
        <a href="hotels.html" class="hover:text-indigo-600">Hotels</a>
        <a href="packages.html" class="hover:text-indigo-600">Packages</a>
        <a href="contact.html" class="hover:text-indigo-600">Contact</a>
      </nav>
      <div class="flex items-center gap-4">
        <button id="themeToggle"
          class="p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 flex items-center justify-center"
          aria-label="Toggle dark mode">
          <svg id="sunIcon" class="w-5 h-5 text-gray-800 transition-colors duration-200" fill="currentColor"
            viewBox="0 0 20 20">
            <path fill-rule="evenodd"
              d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
              clip-rule="evenodd"></path>
          </svg>
          <svg id="moonIcon" class="w-5 h-5 text-gray-800 hidden transition-colors duration-200" fill="currentColor"
            viewBox="0 0 20 20">
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
          </svg>
        </button>
        <a href="admin/login.html"
          class="text-sm px-3 py-2 rounded border border-indigo-600 text-indigo-600 hover:bg-indigo-50">Admin</a>
        <button id="mobileMenuBtn" class="md:hidden p-2 rounded bg-gray-100">‚ò∞</button>
      </div>
    </div>
    <!-- Mobile menu -->
    <div id="mobileMenu" class="hidden md:hidden bg-white border-t transition-colors duration-300">
      <div class="px-6 py-3 flex flex-col gap-2">
        <a href="index.html">Home</a>
        <a href="flights.html">Flights</a>
        <a href="hotels.html">Hotels</a>
        <a href="packages.html">Packages</a>
        <a href="contact.html">Contact</a>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-6 py-10">
    <h1 class="text-3xl font-bold mb-6">Find Hotels</h1>

    <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
      <!-- Filters -->
      <aside class="md:col-span-1 bg-white p-4 rounded shadow">
        <h3 class="font-semibold mb-3">Filters</h3>
        <form id="hotelSearchForm">
          <label class="block mb-2 text-sm">Location</label>
          <input id="locationInput" placeholder="City or Area" class="w-full p-2 border rounded mb-3" required>
          
          <label class="block mb-2 text-sm">Check-in Date</label>
          <input id="checkinInput" type="date" class="w-full p-2 border rounded mb-3" required>
          
          <label class="block mb-2 text-sm">Check-out Date</label>
          <input id="checkoutInput" type="date" class="w-full p-2 border rounded mb-3" required>
          
          <label class="block mb-2 text-sm">Guests</label>
          <select id="guestsInput" class="w-full p-2 border rounded mb-3">
            <option value="1">1 Guest</option>
            <option value="2">2 Guests</option>
            <option value="3">3 Guests</option>
            <option value="4">4 Guests</option>
          </select>
          
          <label class="block mb-2 text-sm">Price Range (per night)</label>
          <div class="mb-2">
            <input id="priceRange" type="range" min="0" max="20000" value="20000" class="w-full mb-1">
            <span class="text-xs text-gray-600">Up to ‚Çπ<span id="priceValue">20,000</span></span>
          </div>
          
          <label class="block mb-2 text-sm">Rating</label>
          <select id="ratingInput" class="w-full p-2 border rounded mb-4">
            <option value="0">Any Rating</option>
            <option value="5">5‚òÖ</option>
            <option value="4">4‚òÖ & up</option>
            <option value="3">3‚òÖ & up</option>
          </select>
          
          <button type="submit" class="w-full px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition">
            Search Hotels
          </button>
        </form>
      </aside>

      <!-- Hotel cards -->
      <section class="md:col-span-3">
        <!-- Loading Indicator -->
        <div id="loadingIndicator" class="hidden text-center py-12">
          <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"></div>
          <p class="mt-4 text-gray-600">Searching for hotels...</p>
        </div>

        <!-- Hotel Results -->
        <div id="hotelResults" class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Default hotels -->
          <div class="hotel-card bg-white rounded shadow overflow-hidden">
            <div class="h-48 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1571896349842-33c89424de2d?auto=format&fit=crop&w=800&q=80')"></div>
            <div class="p-4">
              <h4 class="font-semibold text-gray-900">Ocean View Resort</h4>
              <p class="text-sm text-gray-600">Bali, Indonesia</p>
              <div class="flex items-center mt-1">
                <span class="text-yellow-500">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                <span class="text-xs text-gray-500 ml-2">5.0</span>
              </div>
              <div class="mt-3 flex justify-between items-center">
                <div class="text-lg font-bold text-indigo-600">‚Çπ4,500<span class="text-sm text-gray-500 font-normal">/night</span></div>
                <button class="book-hotel-btn px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition"
                        data-name="Ocean View Resort"
                        data-location="Bali, Indonesia"
                        data-price="4500"
                        data-rating="5">Book Now</button>
              </div>
            </div>
          </div>

          <div class="hotel-card bg-white rounded shadow overflow-hidden">
            <div class="h-48 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=800&q=80')"></div>
            <div class="p-4">
              <h4 class="font-semibold text-gray-900">City Center Hotel</h4>
              <p class="text-sm text-gray-600">Paris, France</p>
              <div class="flex items-center mt-1">
                <span class="text-yellow-500">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                <span class="text-xs text-gray-500 ml-2">4.5</span>
              </div>
              <div class="mt-3 flex justify-between items-center">
                <div class="text-lg font-bold text-indigo-600">‚Çπ6,200<span class="text-sm text-gray-500 font-normal">/night</span></div>
                <button class="book-hotel-btn px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition"
                        data-name="City Center Hotel"
                        data-location="Paris, France"
                        data-price="6200"
                        data-rating="4.5">Book Now</button>
              </div>
            </div>
          </div>
        </div>

        <!-- No Results -->
        <div id="noResults" class="hidden text-center py-12">
          <svg class="mx-auto h-16 w-16 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
          </svg>
          <p class="text-gray-600 text-lg">No hotels found matching your criteria.</p>
          <p class="text-gray-500 text-sm mt-2">Try adjusting your filters.</p>
        </div>
      </section>
    </div>
  </main>

  <!-- Booking Modal -->
  <div id="bookingModal" class="modal fade" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-indigo-600 text-white">
          <h5 class="modal-title">üè® Complete Your Booking</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Hotel Details -->
          <div class="mb-4 p-4 bg-indigo-50 rounded-lg border border-indigo-200">
            <h6 class="font-semibold mb-3 text-indigo-900">Hotel Details</h6>
            <div class="space-y-2 text-sm">
              <div class="flex justify-between">
                <span class="text-gray-600">Hotel:</span>
                <span class="font-medium" id="modalHotelName"></span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Location:</span>
                <span class="font-medium" id="modalLocation"></span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Rating:</span>
                <span class="font-medium" id="modalRating"></span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Check-in:</span>
                <span class="font-medium" id="modalCheckin"></span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Check-out:</span>
                <span class="font-medium" id="modalCheckout"></span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Guests:</span>
                <span class="font-medium" id="modalGuests"></span>
              </div>
              <div class="flex justify-between">
                <span class="text-gray-600">Nights:</span>
                <span class="font-medium" id="modalNights"></span>
              </div>
              <hr class="my-2">
              <div class="flex justify-between text-lg">
                <span class="font-bold text-gray-800">Total Price:</span>
                <span class="font-bold text-indigo-600" id="modalTotalPrice"></span>
              </div>
            </div>
          </div>

          <!-- Guest Information Form -->
          <form id="guestForm">
            <h6 class="font-semibold mb-3">Guest Information</h6>
            <div class="mb-3">
              <label class="form-label text-sm">Full Name *</label>
              <input type="text" class="form-control" id="guestName" placeholder="Enter full name" required>
            </div>
            <div class="mb-3">
              <label class="form-label text-sm">Email *</label>
              <input type="email" class="form-control" id="guestEmail" placeholder="your@email.com" required>
            </div>
            <div class="mb-3">
              <label class="form-label text-sm">Phone Number *</label>
              <input type="tel" class="form-control" id="guestPhone" placeholder="+91 XXXXX XXXXX" required>
            </div>
            <div class="mb-3">
              <label class="form-label text-sm">Special Requests</label>
              <textarea class="form-control" id="specialRequests" rows="2" placeholder="Any special requirements? (Optional)"></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary bg-indigo-600 border-indigo-600" id="confirmBookingBtn">
            <span id="confirmBtnText">Proceed to Payment</span>
            <span id="confirmBtnLoader" class="hidden">
              <span class="spinner-border spinner-border-sm me-2" role="status"></span>
              Processing...
            </span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-white border-t mt-12">
    <div class="container mx-auto px-6 py-8 grid grid-cols-1 md:grid-cols-3 gap-6">
      <div>
        <h4 class="font-bold text-indigo-600">Travelo</h4>
        <p class="text-sm text-gray-600 mt-2">Explore. Plan. Book.</p>
      </div>
      <div>
        <h5 class="font-semibold">Quick Links</h5>
        <ul class="mt-2 space-y-1 text-sm">
          <li><a href="flights.html" class="hover:text-indigo-600">Flights</a></li>
          <li><a href="hotels.html" class="hover:text-indigo-600">Hotels</a></li>
          <li><a href="packages.html" class="hover:text-indigo-600">Packages</a></li>
        </ul>
      </div>
      <div>
        <h5 class="font-semibold">Contact</h5>
        <p class="text-sm mt-2">support@travelo.example<br />+1 234 567 890</p>
      </div>
    </div>
    <div class="text-center text-sm py-4 border-t bg-gray-50">¬© Travelo</div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/script.js"></script>
  <script>
    // Hotel database
    const hotelDatabase = [
      { name: "Ocean View Resort", location: "Bali, Indonesia", price: 4500, rating: 5, image: "https://images.unsplash.com/photo-1571896349842-33c89424de2d?auto=format&fit=crop&w=800&q=80" },
      { name: "City Center Hotel", location: "Paris, France", price: 6200, rating: 4.5, image: "https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&w=800&q=80" },
      { name: "Mountain Lodge", location: "Swiss Alps, Switzerland", price: 8500, rating: 4.8, image: "https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?auto=format&fit=crop&w=800&q=80" },
      { name: "Beach Paradise Resort", location: "Maldives", price: 12000, rating: 5, image: "https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?auto=format&fit=crop&w=800&q=80" },
      { name: "Urban Boutique Hotel", location: "New York, USA", price: 7500, rating: 4.2, image: "https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?auto=format&fit=crop&w=800&q=80" },
      { name: "Desert Oasis Hotel", location: "Dubai, UAE", price: 9200, rating: 4.7, image: "https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?auto=format&fit=crop&w=800&q=80" },
      { name: "Riverside Inn", location: "Amsterdam, Netherlands", price: 5800, rating: 4.3, image: "https://images.unsplash.com/photo-1445019980597-93fa8acb246c?auto=format&fit=crop&w=800&q=80" },
      { name: "Heritage Palace Hotel", location: "Jaipur, India", price: 3500, rating: 4.6, image: "https://images.unsplash.com/photo-1618773928121-c32242e63f39?auto=format&fit=crop&w=800&q=80" },
      { name: "Tropical Garden Resort", location: "Phuket, Thailand", price: 4200, rating: 4.4, image: "https://images.unsplash.com/photo-1537996194471-e657df975ab4?auto=format&fit=crop&w=800&q=80" },
      { name: "Skyline Suites", location: "Singapore", price: 8800, rating: 4.9, image: "https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?auto=format&fit=crop&w=800&q=80" }
    ];

    let currentSearchData = {};
    let selectedHotel = {};

    // Price range slider
    const priceRange = document.getElementById('priceRange');
    const priceValue = document.getElementById('priceValue');
    priceRange.addEventListener('input', (e) => {
      priceValue.textContent = parseInt(e.target.value).toLocaleString('en-IN');
    });

    // Hotel search form
    document.getElementById('hotelSearchForm').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const location = document.getElementById('locationInput').value.trim();
      const checkin = document.getElementById('checkinInput').value;
      const checkout = document.getElementById('checkoutInput').value;
      const guests = document.getElementById('guestsInput').value;
      const maxPrice = document.getElementById('priceRange').value;
      const minRating = document.getElementById('ratingInput').value;

      currentSearchData = { location, checkin, checkout, guests, maxPrice, minRating };

      // Show loading
      document.getElementById('loadingIndicator').classList.remove('hidden');
      document.getElementById('hotelResults').classList.add('hidden');
      document.getElementById('noResults').classList.add('hidden');

      // Simulate search
      setTimeout(() => {
        searchHotels();
      }, 1500);
    });

    function searchHotels() {
      const resultsContainer = document.getElementById('hotelResults');
      resultsContainer.innerHTML = '';

      // Filter hotels based on criteria
      let filteredHotels = hotelDatabase.filter(hotel => {
        // Location filter - check if hotel location contains the search term
        const locationSearch = currentSearchData.location.toLowerCase();
        const hotelLocation = hotel.location.toLowerCase();
        const locationMatch = locationSearch === '' || hotelLocation.includes(locationSearch);
        
        // Price filter
        const priceMatch = hotel.price <= parseInt(currentSearchData.maxPrice);
        
        // Rating filter
        const ratingMatch = parseInt(currentSearchData.minRating) === 0 || hotel.rating >= parseInt(currentSearchData.minRating);
        
        return locationMatch && priceMatch && ratingMatch;
      });

      document.getElementById('loadingIndicator').classList.add('hidden');

      if (filteredHotels.length === 0) {
        document.getElementById('noResults').classList.remove('hidden');
        return;
      }

      document.getElementById('hotelResults').classList.remove('hidden');

      // Show filtered hotels (limit to max 8 results)
      const numHotels = Math.min(filteredHotels.length, 8);
      const selectedHotels = filteredHotels.slice(0, numHotels);

      // Check theme
      const isDark = document.documentElement.classList.contains('dark');
      const cardBg = isDark ? 'bg-gray-800' : 'bg-white';
      const nameColor = isDark ? 'text-gray-100' : 'text-gray-900';
      const locationColor = isDark ? 'text-gray-300' : 'text-gray-600';

      selectedHotels.forEach(hotel => {
        const stars = '‚òÖ'.repeat(Math.floor(hotel.rating)) + (hotel.rating % 1 >= 0.5 ? '‚òÜ' : '');
        
        const hotelCard = document.createElement('div');
        hotelCard.className = `hotel-card ${cardBg} rounded shadow overflow-hidden`;
        hotelCard.innerHTML = `
          <div class="h-48 bg-cover bg-center" style="background-image: url('${hotel.image}')"></div>
          <div class="p-4">
            <h4 class="font-semibold ${nameColor}">${hotel.name}</h4>
            <p class="text-sm ${locationColor}">${hotel.location}</p>
            <div class="flex items-center mt-1">
              <span class="text-yellow-500">${stars}</span>
              <span class="text-xs text-gray-500 ml-2">${hotel.rating}</span>
            </div>
            <div class="mt-3 flex justify-between items-center">
              <div class="text-lg font-bold text-indigo-600">‚Çπ${hotel.price.toLocaleString('en-IN')}<span class="text-sm text-gray-500 font-normal">/night</span></div>
              <button class="book-hotel-btn px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition"
                      data-name="${hotel.name}"
                      data-location="${hotel.location}"
                      data-price="${hotel.price}"
                      data-rating="${hotel.rating}">Book Now</button>
            </div>
          </div>
        `;
        resultsContainer.appendChild(hotelCard);
      });

      attachBookButtonListeners();
    }

    function attachBookButtonListeners() {
      document.querySelectorAll('.book-hotel-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const button = e.target;
          selectedHotel = {
            name: button.dataset.name,
            location: button.dataset.location,
            price: button.dataset.price,
            rating: button.dataset.rating
          };
          openBookingModal();
        });
      });
    }

    function openBookingModal() {
      // Calculate nights
      const checkin = new Date(currentSearchData.checkin || new Date());
      const checkout = new Date(currentSearchData.checkout || new Date(Date.now() + 86400000));
      const nights = Math.max(1, Math.ceil((checkout - checkin) / (1000 * 60 * 60 * 24)));
      const totalPrice = parseInt(selectedHotel.price) * nights;

      // Populate modal
      document.getElementById('modalHotelName').textContent = selectedHotel.name;
      document.getElementById('modalLocation').textContent = selectedHotel.location;
      document.getElementById('modalRating').textContent = `${selectedHotel.rating} ‚òÖ`;
      document.getElementById('modalCheckin').textContent = formatDate(currentSearchData.checkin || new Date());
      document.getElementById('modalCheckout').textContent = formatDate(currentSearchData.checkout || new Date(Date.now() + 86400000));
      document.getElementById('modalGuests').textContent = `${currentSearchData.guests || 1} Guest${currentSearchData.guests > 1 ? 's' : ''}`;
      document.getElementById('modalNights').textContent = `${nights} Night${nights > 1 ? 's' : ''}`;
      document.getElementById('modalTotalPrice').textContent = `‚Çπ${totalPrice.toLocaleString('en-IN')}`;

      const modal = new bootstrap.Modal(document.getElementById('bookingModal'));
      modal.show();

      setTimeout(() => {
        const isDark = document.documentElement.classList.contains('dark');
        const modalContent = document.querySelector('#bookingModal .modal-content');
        if (modalContent) {
          if (isDark) {
            applyDarkModeToModal(modalContent);
          } else {
            applyLightModeToModal(modalContent);
          }
        }
      }, 100);
    }

    function formatDate(dateStr) {
      const date = dateStr instanceof Date ? dateStr : new Date(dateStr);
      const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
      return date.toLocaleDateString('en-IN', options);
    }

    // Confirm booking
    document.getElementById('confirmBookingBtn').addEventListener('click', () => {
      const form = document.getElementById('guestForm');
      
      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      const name = document.getElementById('guestName').value;

      document.getElementById('confirmBtnText').classList.add('hidden');
      document.getElementById('confirmBtnLoader').classList.remove('hidden');
      document.getElementById('confirmBookingBtn').disabled = true;

      setTimeout(() => {
        const bookingModal = bootstrap.Modal.getInstance(document.getElementById('bookingModal'));
        bookingModal.hide();

        document.getElementById('confirmBtnText').classList.remove('hidden');
        document.getElementById('confirmBtnLoader').classList.add('hidden');
        document.getElementById('confirmBookingBtn').disabled = false;

        const bookingRef = 'HTL' + Math.random().toString(36).substr(2, 9).toUpperCase();

        setTimeout(() => {
          showSuccessDialog(bookingRef, name);
        }, 300);

        form.reset();
      }, 2000);
    });

    function showSuccessDialog(bookingRef, guestName) {
      const isDark = document.documentElement.classList.contains('dark');
      
      const modalBgColor = isDark ? '#1f2937' : '#ffffff';
      const textColorStyle = isDark ? '#f3f4f6' : '#1f2937';
      const textSecondaryStyle = isDark ? '#d1d5db' : '#4b5563';
      const textMutedStyle = isDark ? '#9ca3af' : '#6b7280';
      const cardBgColor = isDark ? '#374151' : '#f9fafb';
      const detailBgColor = isDark ? '#312e81' : '#eef2ff';

      const dialog = document.createElement('div');
      dialog.className = 'modal fade';
      dialog.style.display = 'block';
      dialog.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
      dialog.innerHTML = `
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content border-0 shadow-lg" style="background-color: ${modalBgColor};">
            <div class="modal-body text-center p-5">
              <div class="mb-4">
                <div class="mx-auto bg-green-100 rounded-full p-3" style="width: 80px; height: 80px; display: flex; align-items: center; justify-content: center;">
                  <svg class="text-green-600" style="width: 48px; height: 48px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                </div>
              </div>
              <h3 class="text-2xl font-bold mb-3" style="color: ${textColorStyle};">Booking Confirmed! üè®</h3>
              <p class="mb-4" style="color: ${textSecondaryStyle};">Your hotel reservation has been successfully confirmed.</p>
              <div class="rounded-lg p-4 mb-4" style="background-color: ${detailBgColor};">
                <p class="text-sm mb-1" style="color: ${textSecondaryStyle};">Booking Reference</p>
                <p class="text-2xl font-bold" style="color: #4f46e5;">${bookingRef}</p>
              </div>
              <div class="text-left rounded-lg p-4 mb-4 text-sm" style="background-color: ${cardBgColor};">
                <p class="mb-2" style="color: ${textColorStyle};"><strong>Guest:</strong> ${guestName}</p>
                <p class="mb-2" style="color: ${textColorStyle};"><strong>Hotel:</strong> ${selectedHotel.name}</p>
                <p class="mb-2" style="color: ${textColorStyle};"><strong>Location:</strong> ${selectedHotel.location}</p>
                <p class="mb-2" style="color: ${textColorStyle};"><strong>Check-in:</strong> ${formatDate(currentSearchData.checkin || new Date())}</p>
                <p style="color: ${textColorStyle};"><strong>Check-out:</strong> ${formatDate(currentSearchData.checkout || new Date(Date.now() + 86400000))}</p>
              </div>
              <p class="text-sm mb-4" style="color: ${textMutedStyle};">A confirmation email with your booking details has been sent to your registered email address.</p>
              <button onclick="closeSuccessDialog()" class="btn btn-primary px-6 py-2" style="background-color: #4f46e5; border-color: #4f46e5; color: white;">Close</button>
            </div>
          </div>
        </div>
      `;
      document.body.appendChild(dialog);

      setTimeout(() => {
        dialog.classList.add('show');
      }, 10);

      alert(`üè® Booking Successful!\n\nYour booking reference is: ${bookingRef}\n\nThank you for choosing Travelo!`);
    }

    window.closeSuccessDialog = function() {
      const dialogs = document.querySelectorAll('.modal.show');
      dialogs.forEach(dialog => {
        dialog.classList.remove('show');
        setTimeout(() => dialog.remove(), 300);
      });
    };

    function applyDarkModeToModal(modalContent) {
      modalContent.classList.remove('bg-white');
      modalContent.classList.add('bg-gray-800');

      const detailsCard = modalContent.querySelector('.bg-indigo-50');
      if (detailsCard) {
        detailsCard.classList.remove('bg-indigo-50', 'border-indigo-200');
        detailsCard.classList.add('bg-gray-700', 'border-gray-600');
        
        const heading = detailsCard.querySelector('h6');
        if (heading) {
          heading.classList.remove('text-indigo-900');
          heading.classList.add('text-gray-100');
        }
        
        detailsCard.querySelectorAll('.text-gray-600').forEach(span => {
          span.classList.remove('text-gray-600');
          span.classList.add('text-gray-300');
        });
        
        detailsCard.querySelectorAll('.font-medium').forEach(span => {
          span.classList.add('text-gray-100');
        });
        
        detailsCard.querySelectorAll('.font-bold').forEach(span => {
          if (span.classList.contains('text-gray-800')) {
            span.classList.remove('text-gray-800');
            span.classList.add('text-gray-100');
          }
        });
      }

      modalContent.querySelectorAll('h6').forEach(h6 => {
        if (!h6.closest('.bg-indigo-50') && !h6.closest('.bg-gray-700')) {
          h6.classList.add('text-gray-100');
        }
      });

      modalContent.querySelectorAll('.form-label').forEach(label => {
        label.classList.remove('text-gray-700');
        label.classList.add('text-gray-300');
      });

      modalContent.querySelectorAll('input, textarea').forEach(input => {
        input.classList.add('bg-gray-700', 'border-gray-600', 'text-gray-100');
        input.style.colorScheme = 'dark';
      });

      const modalFooter = modalContent.querySelector('.modal-footer');
      if (modalFooter) {
        modalFooter.classList.remove('bg-white');
        modalFooter.classList.add('bg-gray-700');
      }
    }

    function applyLightModeToModal(modalContent) {
      modalContent.classList.remove('bg-gray-800');
      modalContent.classList.add('bg-white');

      const detailsCard = modalContent.querySelector('.bg-gray-700, .bg-indigo-900, .bg-indigo-50');
      if (detailsCard) {
        detailsCard.classList.remove('bg-indigo-900', 'border-indigo-700', 'bg-gray-700', 'border-gray-600');
        detailsCard.classList.add('bg-indigo-50', 'border-indigo-200');
        
        const heading = detailsCard.querySelector('h6');
        if (heading) {
          heading.classList.remove('text-indigo-100', 'text-gray-100');
          heading.classList.add('text-indigo-900');
        }
        
        detailsCard.querySelectorAll('.text-indigo-200, .text-gray-300').forEach(span => {
          if (!span.classList.contains('font-medium') && !span.classList.contains('font-bold')) {
            span.classList.remove('text-indigo-200', 'text-gray-300');
            span.classList.add('text-gray-600');
          }
        });
        
        detailsCard.querySelectorAll('.font-medium').forEach(span => {
          span.classList.remove('text-indigo-100', 'text-gray-100');
        });
        
        detailsCard.querySelectorAll('.font-bold').forEach(span => {
          if (span.classList.contains('text-gray-100')) {
            span.classList.remove('text-gray-100');
            span.classList.add('text-gray-800');
          }
        });
      }

      modalContent.querySelectorAll('.form-label').forEach(label => {
        label.classList.remove('text-gray-300');
        label.classList.add('text-gray-700');
      });

      modalContent.querySelectorAll('h6').forEach(h6 => {
        if (!h6.closest('.bg-indigo-50')) {
          h6.classList.remove('text-gray-100');
          h6.classList.add('text-gray-800');
        }
      });

      modalContent.querySelectorAll('input, textarea').forEach(input => {
        input.classList.remove('bg-gray-700', 'border-gray-600', 'text-gray-100');
        input.style.colorScheme = 'light';
      });

      const modalFooter = modalContent.querySelector('.modal-footer');
      if (modalFooter) {
        modalFooter.classList.remove('bg-gray-700');
        modalFooter.classList.add('bg-white');
      }
    }

    // Theme observer
    const observer = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        if (mutation.attributeName === 'class') {
          const isDark = document.documentElement.classList.contains('dark');
          updatePageTheme(isDark);
        }
      });
    });

    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ['class']
    });

    const initialIsDark = document.documentElement.classList.contains('dark');
    updatePageTheme(initialIsDark);

    function updatePageTheme(isDark) {
      // Update filters sidebar
      const sidebar = document.querySelector('aside');
      if (sidebar) {
        if (isDark) {
          sidebar.classList.remove('bg-white');
          sidebar.classList.add('bg-gray-800');
          sidebar.querySelectorAll('input, select').forEach(input => {
            input.classList.add('bg-gray-700', 'border-gray-600', 'text-gray-100');
            input.style.colorScheme = 'dark';
          });
          sidebar.querySelectorAll('label, h3').forEach(el => {
            el.classList.add('text-gray-100');
          });
          sidebar.querySelectorAll('.text-gray-600').forEach(el => {
            el.classList.remove('text-gray-600');
            el.classList.add('text-gray-300');
          });
        } else {
          sidebar.classList.remove('bg-gray-800');
          sidebar.classList.add('bg-white');
          sidebar.querySelectorAll('input, select').forEach(input => {
            input.classList.remove('bg-gray-700', 'border-gray-600', 'text-gray-100');
            input.style.colorScheme = 'light';
          });
          sidebar.querySelectorAll('label, h3').forEach(el => {
            el.classList.remove('text-gray-100');
          });
          sidebar.querySelectorAll('.text-gray-300').forEach(el => {
            el.classList.remove('text-gray-300');
            el.classList.add('text-gray-600');
          });
        }
      }

      // Update hotel cards
      document.querySelectorAll('.hotel-card').forEach(card => {
        if (isDark) {
          card.classList.remove('bg-white');
          card.classList.add('bg-gray-800');
          
          card.querySelectorAll('.text-gray-900').forEach(el => {
            el.classList.remove('text-gray-900');
            el.classList.add('text-gray-100');
          });
          
          card.querySelectorAll('.text-gray-600').forEach(el => {
            el.classList.remove('text-gray-600');
            el.classList.add('text-gray-300');
          });
        } else {
          card.classList.remove('bg-gray-800');
          card.classList.add('bg-white');
          
          card.querySelectorAll('.text-gray-100').forEach(el => {
            if (!el.classList.contains('text-indigo-600')) {
              el.classList.remove('text-gray-100');
              el.classList.add('text-gray-900');
            }
          });
          
          card.querySelectorAll('.text-gray-300').forEach(el => {
            el.classList.remove('text-gray-300');
            el.classList.add('text-gray-600');
          });
        }
      });

      // Update loading and no results
      const loadingText = document.querySelector('#loadingIndicator p');
      if (loadingText) {
        if (isDark) {
          loadingText.classList.remove('text-gray-600');
          loadingText.classList.add('text-gray-300');
        } else {
          loadingText.classList.remove('text-gray-300');
          loadingText.classList.add('text-gray-600');
        }
      }

      const noResultsTexts = document.querySelectorAll('#noResults p');
      noResultsTexts.forEach(p => {
        if (isDark) {
          if (p.classList.contains('text-gray-600')) {
            p.classList.remove('text-gray-600');
            p.classList.add('text-gray-300');
          }
          if (p.classList.contains('text-gray-500')) {
            p.classList.remove('text-gray-500');
            p.classList.add('text-gray-400');
          }
        } else {
          if (p.classList.contains('text-gray-300')) {
            p.classList.remove('text-gray-300');
            p.classList.add('text-gray-600');
          }
          if (p.classList.contains('text-gray-400')) {
            p.classList.remove('text-gray-400');
            p.classList.add('text-gray-500');
          }
        }
      });
    }

    // Initial setup
    attachBookButtonListeners();

    // Set minimum dates
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('checkinInput').setAttribute('min', today);
    document.getElementById('checkoutInput').setAttribute('min', today);
  </script>
</body>

</html>